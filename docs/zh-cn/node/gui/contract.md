# 合约

Neo-GUI 的合约模块包括：

- [搜索合约](#搜索合约)
- [部署合约](#部署合约)
- [调用合约](#调用合约)

## 搜索合约

### 搜索

在搜索框中可以通过合约的 `合约哈希` 或 `ID` 来搜索合约。

合约哈希（Script Hash）是合约脚本通过 RIPEMD-160 算法后生成的散列。

合约 ID 是合约的序号，其中负数代表原生合约，正数代表普通的智能合约。

![](/assets/contract-search.png)

### 合约详情

在合约详情页面里，我们能看到合约的 `合约哈希`、`ID`、`发行时间`、`特性` 等信息。

这里的特性指的是合约的特性集合，目前有 `storage` 和 `payable` 两个元素可选。

storage 表示此合约使用了存储区。

payable 表示此合约可以接收资产（在 NEP-5 标准中，转账时要检查收款方的 payable 字段）。

![](/assets/contract.png)

## 部署合约

部署合约的基本步骤：

1. 选择 nef 文件和 manifest 文件
2. 试运行
3. 确认部署

与 Neo-CLI 一样，部署合约需要选择 nef 文件和 manifest 文件。如果 nef 同级目录下存在名称相同的 manifest 文件，程序会自动关联。

试运行后，查看结果是否成功。

如果出错，可能有以下几种原因：

- 合约已经存在
- nef 文件和 manifest 文件不匹配
- nef 文件或 manifest 错误
- 手续费不足

如果一切顺利，可以点击  `确认部署`，将合约部署到区块链上，同时消耗手续费 GAS。

部署合约需要打开钱包。

更多信息可参考 [智能合约部署](../../sc/deploy/deploy.md)。

![](/assets/deploy.png)

## 调用合约

部署合约的基本步骤：

1. 输入 ScriptHash 搜索合约
2. 选择调用方法
3. 填写调用参数
4. 附加签名（可选）
5. 试运行
6. 调用

输入 `合约哈希`，点击 `搜索`，然后 Neo-GUI 会根据合约列出当前合约的方法和参数列表。选择方法，填写参数，点击试运行，即可显示试运行结果。如果需要附加签名，也可以选择在 `附加签名` 中选择标准账户（可多选）。

所谓试运行是指在本地创建了一个 NeoVM，模拟运行，并不会对区块链产生影响。

关于调用合约和附加签名等更多信息可参考 [智能合约调用](../../sc/deploy/invoke.md)。

![](/assets/invoke.png)